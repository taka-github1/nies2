import{u as i}from"./basicInterfaces-11f56cb3.js";class m{constructor(n){this.data=n,this.type="encoded-mesh-texture",this.encoding=i.KTX2_ENCODING}}function h(t){return(t==null?void 0:t.type)==="encoded-mesh-texture"}async function p(t){const n=new Blob([t]),r=await n.text();return JSON.parse(r)}async function w(t,n){return n===i.KTX2_ENCODING?new m(t):new Promise((r,a)=>{const u=new Blob([t],{type:n}),o=URL.createObjectURL(u),e=new Image,s=()=>{URL.revokeObjectURL(o),"decode"in e?e.decode().then(()=>r(e),()=>r(e)).then(c):(r(e),c())},d=L=>{URL.revokeObjectURL(o),a(L),c()},c=()=>{e.removeEventListener("load",s),e.removeEventListener("error",d)};e.addEventListener("load",s),e.addEventListener("error",d),e.src=o})}export{h as n,w as o,p as r,m as t};
